/*!
  Copyright 2013 The Impact Plus. All rights reserved.

  YOU ARE PERMITTED TO:
  * Transfer the Software and license to another party if the other party agrees to accept the terms and conditions of this License Agreement. The license holder is responsible for a transfer fee of $50.95 USD. The license must be at least 90 days old or not transferred within the last 90 days;
  * Modify source codes of the software and add new functionality that does not violate the terms of the current license;
  * Customize the Software's design and operation to suit the internal needs of your web site except to the extent not permitted under this Agreement;
  * Create, sell and distribute applications/modules/plugins which interface (not derivative works) with the operation of the Software provided the said applications/modules/plugins are original works or appropriate 3rd party license(s) except to the extent not permitted under this Agreement;
  * Create, sell and distribute by any means any templates and/or designs/skins which allow you or other users of the Software to customize the appearance of Impact Plus provided the said templates and or designs/skins are original works or appropriate 3rd party license(s) except to the extent not permitted under this Agreement.

  YOU ARE "NOT" PERMITTED TO:
  * Use the Software in violation of any US/India or international law or regulation.
  * Permit other individuals to use the Software except under the terms listed above;
  * Reverse-engineer and/or disassemble the Software for distribution or usage outside your domain if it is not an unlimited licence version;
  * Use the Software in such as way as to condone or encourage terrorism, promote or provide pirated Software, or any other form of illegal or damaging activity;
  * Distribute individual copies of proprietary files, libraries, or other programming material in the Software package.
  * Distribute or modify proprietary graphics, HTML, or CSS packaged with the Software for use in applications other than the Software;
  * Use the Software in more than one instance or location (URL, domain, sub-domain, etc.) without prior written consent from IMPACT PLUS;
  * Modify the software and/or create applications and modules which allow the Software to function in more than one instance or location (URL, domain, sub-domain, etc.) without prior written consent from IMPACT PLUS;
  * Copy the Software and install that single program for simultaneous use on multiple machines without prior written consent from IMPACT PLUS;
*/
(function(c){var d={title:"",content:"",onclose:function(){},onopen:function(){},buttons:false,streched:false,closebtn:true,hideonclick:false,draggable:true,width:false};var e=c(".uiDialogLayer:first",ipga("wrap_elm"));var b=function(f){f.preventDefault();if(!c(f.target).is(e)&&!c(f.target).hasClass("close-button")){return}c().ipbox("close");return false};var a={init:function(h){if(c(".uiDialogLayer").length){c().ipbox("open",h);return this}var g=ipga("wrap_elm").cn("div",{"class":"uiLayer uiDialogLayer",role:"dialog"}).unselectable(),f=g.cn("div",{"class":"_1yv",role:"dialog"}),k=f.cn("div",{"class":"_t"},'<i class="close-button icon-remove"></i><div class="pvs prm _1yw"></div><div class="_13"></div><div class="_14"></div>'),j=k.find("._14").cn("div",{"class":"pam uiOverlayFooter uiBoxGray topborder"}),i=j.cn("table",{"class":"uiGrid",cellpadding:0,cellspacing:0},'<tbody><tr><td class="prs uiOverlayFooterMessage"></td><td class="uiOverlayFooterButtons"></td></tr></tbody>');e=g;c(window).on("resize scroll",function(){if(!f.hasClass("is-dragged")){f.center()}});g.on("click",b);c(".close-button",k).on("click",b);c().ipbox("open",h);return this},close:function(){if(!e.length){return}e.removeClass("is-dragged");var f=e.data("options");do_action("ondialogclose",false,e);if(typeof f.onclose==="function"){call_user_func_array(f.onclose,[e,f])}c().ipbox("clear")},open:function(g){if(!e.length){return}var f=c.extend({},d,g);if(e.data("options")){c("._1yv:first",e).removeClass("is-dragged");do_action("ondialogclose",false,e);if(typeof e.data("options").onclose==="function"){call_user_func_array(e.data("options").onclose,[e,e.data("options")])}}if(!c("._1yv",e).data("width")){c("._1yv",e).data("width",c("._1yv",e).width())}if(f.width){c("._1yv",e).width(f.width)}else{c("._1yv",e).width(c("._1yv",e).data("width"))}if(f.draggable===false){if(c("._1yv",e).hasClass("ui-draggable")){c("._1yv",e).draggable("destroy")}}else{if(!c("._1yv",e).hasClass("ui-draggable")){c("._1yv",e).draggable({containment:"parent",cursor:"move",handle:"._1yw",start:function(h){if(!c(this).hasClass("is-dragged")){c(this).addClass("is-dragged")}}})}}if(!f.closebtn){c("i.close-button:first",e).hide(0)}else{c("i.close-button:first",e).show(0)}e.data("options",f);c().ipbox("title",f.title);c().ipbox("content",f.content);c("._13",e).removeClass("streched");if(!f.streched){c("._13",e).addClass("streched")}c().ipbox("buttons",f.buttons);e.fadeIn(300,function(){do_action("ondialogopen",false,e);if(typeof f.onopen==="function"){call_user_func_array(f.onopen,[e,f])}});c("._1yv",e).center();if(!f.hideonclick){e.off("click")}else{e.off("click").on("click",b)}},redraw:function(){if(!e.length){return}c("._1yv",e).center()},buttons:function(i){if(!e.length){return this}c(".uiOverlayFooter",e).hide(0).find(".uiOverlayFooterMessage, .uiOverlayFooterButtons").html("");if(typeof i==="object"&&!unds.isEmpty(i)){c(".uiOverlayFooter",e).show(0);for(x in i){var h=i[x];var g=c(".uiOverlayFooterButtons",e).cn("a",{"class":"ibtn",role:"button",href:"#"}),f=g.cn("i",{"class":h.icon}),j=g.cn("span",{"class":"uiButtonText"},h.text,h.tpos);if(h.tpos==="prepend"){f.addClass("iright")}if(h.clas){g.addClass(h.clas)}if(h.disb===true){g.off("click").on("click",function(k){k.preventDefault()}).addClass("disabled")}if(h.call){g.on("click",h.call)}}return this}if(typeof i==="string"&&i.length){c(".uiOverlayFooter",e).show(0);c(".uiOverlayFooterButtons",e).html(i);return this}return this},content:function(f){e.find("._13").html(f)},title:function(f){e.find("._1yw").html(f)},clear:function(){if(!e.length){return}e.stop().fadeOut(300,function(){c().ipbox("content","");c().ipbox("title","");c().ipbox("buttons",false);e.removeData("options")})}};c.fn.extend({ipbox:function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return a.init.apply(this,arguments)}else{c.error("Method "+f+" does not exist on jQuery.ipbox")}}}})})(jQuery);